<!-- å…¨å±€éŸ³é¢‘æ’­æ”¾å™¨ - æ‚¬æµ®æŒ‰é’® -->
<view wx:if="{{isPlaying || isPaused}}" class="audio-player-float {{expanded ? 'expanded' : ''}}">
  <!-- è¿·ä½ æ¨¡å¼ -->
  <view wx:if="{{!expanded}}" class="player-mini" bindtap="toggleExpand">
    <view class="mini-icon {{isPlaying ? 'playing' : ''}}">
      <text>ğŸµ</text>
    </view>
  </view>

  <!-- å±•å¼€æ¨¡å¼ -->
  <view wx:else class="player-expanded" catchtap="stopPropagation">
    <view class="player-header">
      <view class="header-left">
        <view class="audio-icon {{isPlaying ? 'playing' : ''}}">ğŸµ</view>
        <view class="audio-info">
          <text class="audio-title">{{currentAudio.title}}</text>
          <text class="audio-subtitle">{{currentAudio.subtitle}}</text>
        </view>
      </view>
      <view class="close-btn" bindtap="toggleExpand">Ã—</view>
    </view>

    <view class="player-controls">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{progress}}%"></view>
      </view>
      <view class="time-info">
        <text class="current-time">{{currentTime}}</text>
        <text class="total-time">{{totalTime}}</text>
      </view>
    </view>

    <view class="player-buttons">
      <view class="control-btn" bindtap="onPrev">â®ï¸</view>
      <view class="control-btn play-btn" bindtap="onTogglePlay">
        <text>{{isPlaying ? 'â¸ï¸' : 'â–¶ï¸'}}</text>
      </view>
      <view class="control-btn" bindtap="onNext">â­ï¸</view>
      <view class="control-btn" bindtap="onClose">ğŸ—™</view>
    </view>
  </view>
</view>
