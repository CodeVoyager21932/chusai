<navigation-bar title="æ˜Ÿç«ç‡åŸ" />

<view class="page">
  <!-- é¡¶éƒ¨è£…é¥° -->
  <view class="header-decoration"></view>
  
  <!-- é¡¶éƒ¨æ‚¬æµ®åˆ‡æ¢æ  (Floating Tabs) -->
  <view class="floating-tabs-container">
    <view class="floating-tabs">
      <view class="floating-tab {{mode === 'learn' ? 'tab-active' : ''}}" bindtap="switchMode" data-mode="learn">
        <text class="tab-emoji">ğŸ“š</text>
        <text class="tab-label">å­¦</text>
      </view>
      <view class="floating-tab {{mode === 'practice' ? 'tab-active' : ''}}" bindtap="switchMode" data-mode="practice">
        <text class="tab-emoji">âœï¸</text>
        <text class="tab-label">ç»ƒ</text>
      </view>
      <view class="floating-tab {{mode === 'battle' ? 'tab-active' : ''}}" bindtap="switchMode" data-mode="battle">
        <text class="tab-emoji">âš”ï¸</text>
        <text class="tab-label">æµ‹</text>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ æ¨¡å¼ - Tinder é£æ ¼æ»‘åŠ¨å¡ç‰‡ -->
  <view wx:if="{{mode === 'learn'}}" class="content mode-learn">
    <!-- AåŒºï¼šé¡¶éƒ¨åŒºåŸŸ - Tabs + è¿›åº¦æ¡ -->
    <view class="top-area">
      <!-- æç»†è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <view class="slim-progress-bar">
        <view class="slim-progress-track">
          <view class="slim-progress-fill" style="width: {{(currentIndex / cards.length) * 100}}%"></view>
        </view>
        <view class="progress-count-badge">
          <text class="count-text">{{currentIndex}}/{{cards.length}}</text>
        </view>
      </view>
    </view>

    <!-- BåŒºï¼šå¡ç‰‡èˆå° - è‡ªåŠ¨å æ®å‰©ä½™ç©ºé—´ -->
    <view wx:if="{{cards.length > 0 && currentIndex < cards.length}}" class="card-stage">
      <!-- å¡ç‰‡å †å å®¹å™¨ - ä½¿ç”¨ç»å¯¹å®šä½ -->
      <view class="card-stack-absolute">
        <!-- ä¸‹ä¸€å¼ å¡ç‰‡ï¼ˆèƒŒæ™¯å±‚ï¼Œç»å¯¹å®šä½ï¼Œå¾®ç¼© + é™ä½äº®åº¦ï¼‰ -->
        <view wx:if="{{currentIndex + 1 < cards.length}}" class="stack-card stack-card-next">
          <image class="stack-card-bg" src="{{cards[currentIndex + 1].front_image}}" mode="aspectFill"></image>
          <view class="stack-card-overlay"></view>
          <view class="stack-card-content">
            <text class="stack-card-title font-serif">{{cards[currentIndex + 1].front_title}}</text>
          </view>
        </view>

        <!-- å½“å‰å¡ç‰‡ï¼ˆé¡¶å±‚ï¼Œç»å¯¹å®šä½ï¼Œå¯æ‹–æ‹½ï¼‰ -->
        <view class="stack-card stack-card-top"
              style="transform: translateX({{swipeX}}px) translateY({{swipeY}}px) rotate({{swipeRotate}}deg); opacity: {{swipeOpacity}};"
              bindtouchstart="onTouchStart"
              bindtouchmove="onTouchMove"
              bindtouchend="onTouchEnd"
              bindtap="flipCard">
          
          <!-- å·¦æ»‘è¦†ç›–å±‚ï¼ˆå¾…å¤ä¹ ï¼‰ -->
          <view class="swipe-overlay swipe-left" style="opacity: {{swipeLeftOpacity}};">
            <view class="overlay-icon">â†º</view>
            <text class="overlay-text">å¾…å¤ä¹ </text>
          </view>

          <!-- å³æ»‘è¦†ç›–å±‚ï¼ˆå·²æŒæ¡ï¼‰ -->
          <view class="swipe-overlay swipe-right" style="opacity: {{swipeRightOpacity}};">
            <view class="overlay-icon">âœ“</view>
            <text class="overlay-text">å·²æŒæ¡</text>
          </view>

          <!-- 3Dç¿»è½¬å¡ç‰‡ -->
          <view class="card-flip-container {{flipped ? 'flipped' : ''}}">
            <!-- æ­£é¢ - å…¨å±å†å²å›¾ç‰‡ + åº•éƒ¨æ¸å˜è’™å±‚ -->
            <view class="card card-front-image">
              <image wx:if="{{cards[currentIndex].front_image}}" class="card-bg-image" src="{{cards[currentIndex].front_image}}" mode="aspectFill" lazy-load></image>
              <view wx:else class="card-placeholder-bg">
                <text class="placeholder-icon">ğŸ›ï¸</text>
              </view>
              <view class="card-gradient-overlay"></view>
              <view class="card-front-content">
                <view class="era-badge-float">{{cards[currentIndex].category}}</view>
                <view class="card-bottom-info">
                  <text class="card-title-white font-serif">{{cards[currentIndex].front_title}}</text>
                  <view class="flip-hint-white">
                    <text class="hint-icon">ğŸ‘†</text>
                    <text class="hint-text">è½»è§¦ç¿»è½¬ / å·¦å³æ»‘åŠ¨</text>
                  </view>
                </view>
              </view>
            </view>
            
            <!-- èƒŒé¢ - è¯¦ç»†çŸ¥è¯†ç‚¹ -->
            <view class="card card-back-detail">
              <view class="card-decoration-top"></view>
              <view class="card-back-wrapper">
                <view class="era-badge">{{cards[currentIndex].category}}</view>
                <scroll-view class="content-scroll" scroll-y>
                  <text class="content-text">{{cards[currentIndex].back_content}}</text>
                </scroll-view>
                <view class="keywords-wrapper">
                  <text wx:for="{{cards[currentIndex].back_keywords}}" wx:key="*this" class="keyword-tag">{{item}}</text>
                </view>
                <button class="btn-ai-detail" bindtap="openAIDetail" catchtap="openAIDetail">
                  <text class="ai-icon">ğŸ¤–</text>
                  <text>AI è¯¦è§£</text>
                </button>
              </view>
              <view class="card-decoration-bottom"></view>
            </view>
          </view>
        </view>
      </view>

      <!-- æ˜Ÿç«æ±‡èšåŠ¨ç”» -->
      <view wx:if="{{showSparks}}" class="spark-particles">
        <view class="spark spark-1"></view>
        <view class="spark spark-2"></view>
        <view class="spark spark-3"></view>
        <view class="spark spark-4"></view>
        <view class="spark spark-5"></view>
      </view>
    </view>

    <!-- CåŒºï¼šåº•éƒ¨æ“ä½œæ  -->
    <view wx:if="{{cards.length > 0 && currentIndex < cards.length}}" class="action-area">
      <button class="action-btn action-btn-review" bindtap="onReviewCard">
        <view class="action-btn-circle">
          <text class="action-icon">âœ—</text>
        </view>
        <text class="action-btn-label">å¾…å¤ä¹ </text>
      </button>
      <button class="action-btn action-btn-flip" bindtap="flipCard">
        <view class="action-btn-circle action-btn-large">
          <text class="action-icon">â†»</text>
        </view>
        <text class="action-btn-label">ç¿»è½¬</text>
      </button>
      <button class="action-btn action-btn-master" bindtap="onMasterCard">
        <view class="action-btn-circle">
          <text class="action-icon">âœ“</text>
        </view>
        <text class="action-btn-label">å·²æŒæ¡</text>
      </button>
    </view>

    <!-- ç©ºçŠ¶æ€ - ä»Šæ—¥ä»»åŠ¡å®Œæˆ -->
    <view wx:else class="completion-screen">
      <view class="completion-illustration">
        <text class="completion-emoji">ğŸ‰</text>
        <view class="completion-sparkles">
          <text class="sparkle sparkle-1">âœ¨</text>
          <text class="sparkle sparkle-2">âœ¨</text>
          <text class="sparkle sparkle-3">âœ¨</text>
        </view>
      </view>
      <text class="completion-title font-serif">ä»Šæ—¥ä»»åŠ¡å®Œæˆ</text>
      <text class="completion-desc">å·²æŒæ¡ {{cards.length}} ä¸ªçŸ¥è¯†ç‚¹</text>
      <view class="completion-stats">
        <view class="stat-badge">
          <text class="stat-icon">ğŸ”¥</text>
          <text class="stat-value">{{cards.length}}</text>
          <text class="stat-label">å¡ç‰‡</text>
        </view>
        <view class="stat-badge">
          <text class="stat-icon">â­</text>
          <text class="stat-value">+{{cards.length * 5}}</text>
          <text class="stat-label">ç§¯åˆ†</text>
        </view>
      </view>
      <view class="completion-actions">
        <button class="completion-btn btn-restart" bindtap="restart">
          <text>é‡æ–°å­¦ä¹ </text>
        </button>
        <button class="completion-btn btn-practice" bindtap="switchToPractice">
          <text>å¼€å§‹ç»ƒä¹ </text>
        </button>
      </view>
    </view>
  </view>

  <!-- ç»ƒä¹ æ¨¡å¼ - æ¸¸æˆå¤§å…é£æ ¼ -->
  <view wx:elif="{{mode === 'practice'}}" class="content mode-practice">
    <!-- å¼€å§‹ç•Œé¢ - æ¸¸æˆå¤§å… -->
    <view wx:if="{{!quizStarted}}" class="game-lobby">
      <!-- èƒŒæ™¯è£…é¥° -->
      <view class="lobby-decoration">
        <text class="deco-star deco-1">â˜…</text>
        <text class="deco-star deco-2">â˜…</text>
        <text class="deco-star deco-3">â˜…</text>
        <view class="deco-wave"></view>
      </view>

      <!-- æ ‡é¢˜åŒº -->
      <view class="lobby-header">
        <view class="lobby-icon">ğŸ†</view>
        <text class="lobby-title font-serif">çŸ¥è¯†é—¯å…³</text>
        <text class="lobby-subtitle">æ£€éªŒå­¦ä¹ æˆæœ</text>
      </view>

      <!-- ä»ªè¡¨ç›˜å¡ç‰‡ - CSS Grid -->
      <view class="dashboard-grid">
        <view class="dashboard-card">
          <text class="dashboard-icon">ğŸ“</text>
          <text class="dashboard-value">5</text>
          <text class="dashboard-label">é¢˜ç›®</text>
        </view>
        <view class="dashboard-card">
          <text class="dashboard-icon">â­</text>
          <text class="dashboard-value">20</text>
          <text class="dashboard-label">åˆ†/é¢˜</text>
        </view>
        <view class="dashboard-card">
          <text class="dashboard-icon">ğŸ¯</text>
          <text class="dashboard-value">85%</text>
          <text class="dashboard-label">å†å²èƒœç‡</text>
        </view>
        <view class="dashboard-card">
          <text class="dashboard-icon">ğŸ”¥</text>
          <text class="dashboard-value">12</text>
          <text class="dashboard-label">è¿èƒœè®°å½•</text>
        </view>
      </view>

      <!-- ä¸»æŒ‰é’® CTA - æµå…‰æ¸å˜ -->
      <button class="cta-button cta-glow" bindtap="startQuiz">
        <view class="cta-shine"></view>
        <text class="cta-text">å¼€å§‹é—¯å…³</text>
      </button>
    </view>

    <!-- ç­”é¢˜ç•Œé¢ -->
    <view wx:elif="{{!quizFinished}}" class="quiz-screen">
      <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->
      <view class="quiz-header">
        <view class="quiz-progress">
          <text class="progress-current">{{quizIndex + 1}}</text>
          <text class="progress-divider">/</text>
          <text class="progress-total">5</text>
        </view>
        <view class="quiz-score">
          <text class="score-icon">â­</text>
          <text class="score-value">{{score}}</text>
        </view>
      </view>

      <!-- é¢˜ç›®å¡ç‰‡ -->
      <view class="question-card">
        <view class="question-number">ç¬¬ {{quizIndex + 1}} é¢˜</view>
        <text class="question-text">{{currentQ.question}}</text>
      </view>

      <!-- é€‰é¡¹åˆ—è¡¨ -->
      <view class="options-list">
        <view wx:for="{{currentQ.options}}" wx:key="index"
              class="option-item {{selected === index ? (correct ? 'option-correct' : 'option-wrong') : ''}} {{showAns && index === currentQ.correctIndex ? 'option-correct' : ''}}"
              bindtap="selectOpt" data-idx="{{index}}">
          <view class="option-label">{{['A','B','C','D'][index]}}</view>
          <text class="option-text">{{item}}</text>
          <view wx:if="{{showAns && index === currentQ.correctIndex}}" class="option-check">âœ“</view>
          <view wx:elif="{{selected === index && !correct}}" class="option-cross">âœ—</view>
        </view>
      </view>

      <!-- ä¸‹ä¸€é¢˜æŒ‰é’® -->
      <button wx:if="{{showAns}}" class="btn-next" bindtap="nextQ">
        <text>{{quizIndex < 4 ? 'ä¸‹ä¸€é¢˜' : 'æŸ¥çœ‹ç»“æœ'}}</text>
      </button>
    </view>

    <!-- ç»“æœç•Œé¢ -->
    <view wx:else class="result-screen">
      <view class="result-decoration"></view>
      <view class="result-icon">{{score >= 80 ? 'ğŸ†' : score >= 60 ? 'ğŸ‘' : 'ğŸ’ª'}}</view>
      <text class="result-title">{{score >= 80 ? 'ä¼˜ç§€' : score >= 60 ? 'è‰¯å¥½' : 'ç»§ç»­åŠ æ²¹'}}</text>
      <view class="result-score-wrapper">
        <text class="result-score">{{score}}</text>
        <text class="result-unit">åˆ†</text>
      </view>
      <view class="result-actions">
        <button class="result-btn btn-retry" bindtap="restartQuiz">
          <text>å†æ¥ä¸€æ¬¡</text>
        </button>
        <button class="result-btn btn-battle" bindtap="switchToBattle">
          <text>æŒ‘æˆ˜å¯¹æˆ˜</text>
        </button>
      </view>
    </view>
  </view>

  <!-- å¯¹æˆ˜æ¨¡å¼ - æ¸¸æˆå¤§å…é£æ ¼ -->
  <view wx:elif="{{mode === 'battle'}}" class="content mode-battle">
    <!-- å¼€å§‹ç•Œé¢ - çœŸäººåŒ¹é…å¤§å… -->
    <view wx:if="{{!battleStarted && !isMatching}}" class="game-lobby battle-lobby">
      <!-- èƒŒæ™¯è£…é¥° -->
      <view class="lobby-decoration">
        <text class="deco-star deco-1">âš”ï¸</text>
        <text class="deco-star deco-2">âš”ï¸</text>
        <text class="deco-star deco-3">âš”ï¸</text>
        <view class="deco-wave deco-wave-gold"></view>
      </view>

      <!-- æ ‡é¢˜åŒº -->
      <view class="lobby-header">
        <view class="lobby-icon">âš”ï¸</view>
        <text class="lobby-title font-serif">çŸ¥è¯†å¯¹æˆ˜</text>
        <text class="lobby-subtitle">ä¸å…¶ä»–ç©å®¶ä¸€å†³é«˜ä¸‹</text>
      </view>

      <!-- åœ¨çº¿äººæ•° -->
      <view class="online-status">
        <view class="online-dot"></view>
        <text class="online-text">å½“å‰åœ¨çº¿ {{onlineCount}} äºº</text>
      </view>

      <!-- ä»ªè¡¨ç›˜å¡ç‰‡ -->
      <view class="dashboard-grid">
        <view class="dashboard-card">
          <text class="dashboard-icon">ğŸ®</text>
          <text class="dashboard-value">5</text>
          <text class="dashboard-label">å›åˆ</text>
        </view>
        <view class="dashboard-card">
          <text class="dashboard-icon">â±ï¸</text>
          <text class="dashboard-value">10s</text>
          <text class="dashboard-label">æ¯é¢˜</text>
        </view>
        <view class="dashboard-card">
          <text class="dashboard-icon">ğŸ…</text>
          <text class="dashboard-value">{{winRate}}%</text>
          <text class="dashboard-label">èƒœç‡</text>
        </view>
        <view class="dashboard-card">
          <text class="dashboard-icon">ğŸ‘‘</text>
          <text class="dashboard-value">{{winStreak}}</text>
          <text class="dashboard-label">è¿èƒœ</text>
        </view>
      </view>

      <!-- ä¸»æŒ‰é’® CTA -->
      <button class="cta-button cta-glow cta-battle" bindtap="startMatching">
        <view class="cta-shine"></view>
        <text class="cta-text">å¼€å§‹åŒ¹é…</text>
      </button>
    </view>

    <!-- åŒ¹é…ä¸­ç•Œé¢ -->
    <view wx:elif="{{isMatching}}" class="matching-screen">
      <view class="matching-animation">
        <view class="matching-ring"></view>
        <view class="matching-ring matching-ring-2"></view>
        <text class="matching-icon">ğŸ”</text>
      </view>
      <text class="matching-title">æ­£åœ¨åŒ¹é…å¯¹æ‰‹...</text>
      <text class="matching-time">å·²ç­‰å¾… {{matchingTime}}s</text>
      <button class="btn-cancel-match" bindtap="cancelMatching">å–æ¶ˆåŒ¹é…</button>
    </view>

    <!-- åŒ¹é…æˆåŠŸç•Œé¢ -->
    <view wx:elif="{{matchFound && !battleStarted}}" class="match-found-screen">
      <view class="match-players">
        <view class="match-player">
          <image class="match-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
          <text class="match-name">{{userInfo.nickName || 'æˆ‘'}}</text>
        </view>
        <view class="match-vs">
          <text class="vs-text">VS</text>
        </view>
        <view class="match-player">
          <image class="match-avatar" src="{{opponent.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
          <text class="match-name">{{opponent.nickName || 'å¯¹æ‰‹'}}</text>
        </view>
      </view>
      <text class="match-countdown">{{matchCountdown}}s åå¼€å§‹</text>
    </view>

    <!-- å¯¹æˆ˜ç•Œé¢ -->
    <view wx:elif="{{battleStarted && !battleFinished}}" class="battle-screen">
      <!-- åœ†å½¢å€’è®¡æ—¶å™¨ -->
      <view class="countdown-timer {{battleTimeLeft <= 3 ? 'timer-warning' : ''}}">
        <view class="timer-circle">
          <svg class="timer-svg" viewBox="0 0 100 100">
            <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
            <circle class="timer-progress" cx="50" cy="50" r="45" 
                    style="stroke-dashoffset: {{(1 - battleTimeLeft / 10) * 283}}"></circle>
          </svg>
          <view class="timer-text">{{battleTimeLeft}}</view>
        </view>
        <text class="timer-label">ç§’</text>
      </view>

      <!-- å¯¹æˆ˜åŒæ–¹ä¿¡æ¯ -->
      <view class="battle-players">
        <view class="battle-player player-me {{battleSel !== null && correct ? 'player-win' : ''}}">
          <view class="player-avatar-wrapper">
            <image class="player-avatar-img" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
            <view wx:if="{{battleSel !== null && correct}}" class="player-effect">âœ“</view>
          </view>
          <text class="player-name">{{userInfo.nickName || 'æˆ‘'}}</text>
          <view class="player-score-wrapper">
            <text class="player-score">{{myScore}}</text>
          </view>
        </view>

        <view class="battle-vs">
          <text class="vs-text">VS</text>
          <text class="vs-round">ç¬¬{{battleIdx + 1}}/5å›åˆ</text>
        </view>

        <view class="battle-player player-opponent {{battleSel !== null && opponentAnswered ? 'player-win' : ''}}">
          <view class="player-avatar-wrapper">
            <image class="player-avatar-img" src="{{opponent.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
            <view wx:if="{{battleSel !== null && opponentAnswered}}" class="player-effect">âœ“</view>
          </view>
          <text class="player-name">{{opponent.nickName || 'å¯¹æ‰‹'}}</text>
          <view class="player-score-wrapper">
            <text class="player-score">{{opponentScore}}</text>
          </view>
        </view>
      </view>

      <!-- é¢˜ç›® -->
      <view class="battle-question-card">
        <text class="battle-question">{{battleQ.question}}</text>
      </view>

      <!-- é€‰é¡¹ -->
      <view class="battle-options">
        <view wx:for="{{battleQ.options}}" wx:key="index"
              class="battle-option {{battleSel === index ? (index === battleQ.correctIndex ? 'option-correct-battle' : 'option-wrong-battle') : ''}} {{showBattleAns && index === battleQ.correctIndex ? 'option-correct-battle' : ''}}"
              bindtap="selectBattleOpt" data-idx="{{index}}">
          <view class="option-label">{{['A','B','C','D'][index]}}</view>
          <text class="option-text">{{item}}</text>
          <view wx:if="{{showBattleAns && index === battleQ.correctIndex}}" class="option-check">âœ“</view>
          <view wx:elif="{{battleSel === index && index !== battleQ.correctIndex}}" class="option-cross">âœ—</view>
        </view>
      </view>

      <!-- è§£ææ°”æ³¡ -->
      <view wx:if="{{showBattleAns && battleQ.explanation}}" class="explanation-bubble">
        <view class="bubble-header">
          <text class="bubble-icon">ğŸ’¡</text>
          <text class="bubble-title">çŸ¥è¯†ç‚¹è§£æ</text>
        </view>
        <text class="bubble-content">{{battleQ.explanation}}</text>
      </view>
    </view>

    <!-- ç»“æœç•Œé¢ -->
    <view wx:elif="{{battleFinished}}" class="result-screen battle-result">
      <view class="result-decoration battle-result-decoration"></view>
      <view class="result-icon">{{won ? 'ğŸ‰' : (isDraw ? 'ğŸ¤' : 'ğŸ’ª')}}</view>
      <text class="result-title">{{won ? 'èƒœåˆ©' : (isDraw ? 'å¹³å±€' : 'æƒœè´¥')}}</text>
      
      <!-- VS è¿›åº¦æ¡ -->
      <view class="vs-progress-bar">
        <view class="vs-bar-wrapper">
          <view class="vs-bar-fill vs-bar-me" style="width: {{myScore}}%"></view>
          <view class="vs-bar-fill vs-bar-opponent" style="width: {{opponentScore}}%"></view>
        </view>
        <view class="vs-bar-labels">
          <text class="vs-bar-label">æˆ‘ {{myScore}}</text>
          <text class="vs-bar-label">{{opponent.nickName || 'å¯¹æ‰‹'}} {{opponentScore}}</text>
        </view>
      </view>

      <!-- åˆ†æ•°å±•ç¤º -->
      <view class="battle-final-score">
        <view class="final-score-item">
          <image class="final-avatar-img" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
          <text class="final-score">{{myScore}}</text>
        </view>
        <text class="final-divider">:</text>
        <view class="final-score-item">
          <image class="final-avatar-img" src="{{opponent.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
          <text class="final-score">{{opponentScore}}</text>
        </view>
      </view>

      <!-- å‹‹ç« å±•ç¤º -->
      <view wx:if="{{myScore === 100}}" class="medal-display">
        <view class="medal-icon">ğŸ…</view>
        <text class="medal-title">é‡‘ç‰Œè®²è§£å‘˜</text>
        <text class="medal-desc">å…¨éƒ¨ç­”å¯¹ï¼Œå®Œç¾è¡¨ç°ï¼</text>
      </view>
      <view wx:elif="{{myScore >= 80}}" class="medal-display">
        <view class="medal-icon">ğŸ¥ˆ</view>
        <text class="medal-title">é“¶ç‰Œè®²è§£å‘˜</text>
        <text class="medal-desc">è¡¨ç°ä¼˜ç§€ï¼Œç»§ç»­åŠ æ²¹ï¼</text>
      </view>
      <view wx:elif="{{myScore >= 60}}" class="medal-display">
        <view class="medal-icon">ğŸ¥‰</view>
        <text class="medal-title">é“œç‰Œè®²è§£å‘˜</text>
        <text class="medal-desc">ä¸é”™çš„å¼€å§‹ï¼</text>
      </view>

      <view class="result-actions">
        <button class="result-btn btn-retry" bindtap="restartBattle">
          <text>å†æˆ˜ä¸€å±€</text>
        </button>
        <button class="result-btn btn-learn" bindtap="switchToLearn">
          <text>è¿”å›å­¦ä¹ </text>
        </button>
      </view>
    </view>
  </view>
</view>
